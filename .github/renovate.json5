{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:best-practices",
    "helpers:pinGitHubActionDigestsToSemver",
  ],
  "packageRules": [
    {
      // this is to reduce the number of renovate PRs by consolidating them into a weekly batch
      "matchManagers": ["github-actions"],
      "extends": ["schedule:weekly"],
      "groupName": "github actions"
    },
    {
      // junit 6+ requires Java 17+
      matchPackageNames: [
        'org.junit:**',
        'org.junit.jupiter:**',
      ],
      matchUpdateTypes: [
        'major',
      ],
      enabled: false,
    },
  ],
  customManagers: [
    {
      customType: 'regex',
      datasourceTemplate: 'github-releases',
      managerFilePatterns: [
        'build.gradle.kts',
      ],
      matchStrings: [
        '"(?<currentValue>.+?)" // renovate\\(github-releases\\): (?<depName>[^\\s]+)',
      ],
      versioningTemplate: 'semver',
    },
  ],
}
